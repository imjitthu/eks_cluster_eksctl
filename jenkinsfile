pipeline {

    agent any

    parameters {
        choice(name: 'EKS_Cluster', choices: ['Create', 'Delete',], description: 'Pick option')
                }

    stages {
        stage ('Creating Eks Cluster') {
            when {
                expression {params.EKS_Cluster == 'Create'}
            }
            steps {
                sh '''
                eksctl create cluster -f cluster.yml
                '''
            }
        }
        stage ('Deleting Eks Cluster') {
            when {
                expression {params.EKS_Cluster == 'Delete'}
            }
            steps {
                sh '''
                eksctl delete cluster -f cluster.yml
                '''
            }
        }
    }
}